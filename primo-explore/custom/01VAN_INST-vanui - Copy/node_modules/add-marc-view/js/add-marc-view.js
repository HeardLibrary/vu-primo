//Add Marc View Start
app.constant('addMarcViewPrimoStudioStudioConfig', [{ "text": "View Source Record", "linkBase": "https://apps.library.vanderbilt.edu/services/source/rec.php?akey=" }]);



app.controller('addMarcViewPrimoStudioController', ['addMarcViewPrimoStudioStudioConfig', function (configParams) {
    
     //set the context
     var vm = this;
    
     //binds the function to the scope so it's requestable in the component.
     vm.getRecordID = getRecordID;
     vm.linkText = getLinkText();
     vm.linkBase = getLinkBase();

     function getLinkText(){
         return configParams[0].text;
     }

     function getLinkBase(){
         return configParams[0].linkBase;
     }
     //define the function that retrieves the record ID
     function getRecordID() {
         return vm.parentCtrl.item.pnx.control.recordid[0];
     }

 }]);

app.component('addMarcViewPrimoStudio', {
     bindings: {parentCtrl: '<'},
     controller: 'addMarcViewPrimoStudioController',
     template: `<span class="md-subhead"><hr/><a href="{{ $ctrl.linkBase }}{{ $ctrl.getRecordID() }}" target="_blank">{{ $ctrl.linkText }}</a></span>`

 });

//Add Marc View End 