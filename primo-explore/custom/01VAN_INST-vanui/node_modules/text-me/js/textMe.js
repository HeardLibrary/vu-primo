//start text me 

app.controller('ActionListAfterController', [function () {
  var vm = this;
}]);


app.component('prmActionListAfter', {
  bindings: { parentCtrl: '<' },
  controller: 'ActionListAfterController',
  template: '\n    <text-me-view-primo-studio parent-ctrl="$ctrl.parentCtrl"></text-me-primo-studio>\n'

});



app.controller('textMePrimoStudioController', ['textMePrimoStudioStudioConfig', function (configParams) {
    
     //set the context
     var vm = this;
    
     //binds the function to the scope so it's requestable in the component.
     vm.getRecordID = getRecordID;
	 vm.getTitle = getTitle;
	 vm.getCall = getCall;
	 vm.getLibrary = getLibrary
     vm.linkText = getLinkText();
     vm.linkBase = getLinkBase();

     function getLinkText(){
         return configParams[0].text;
     }

     function getLinkBase(){
         return configParams[0].linkBase;
     }
     //define the function that retrieves the record ID
     function getRecordID() {
         return vm.parentCtrl.item.pnx.control.recordid[0];
     }
	 
	 function getLibrary() {
		 return vm.parentCtrl.item.delivery.bestlocation.mainLocation[0];
	 }
	 
	 function getTitle() {
		return vm.parentCtrl.pnx.display.title[0]; 
	 }
	 function getCall() {
		return vm.parentCtrl.pnx.display.title[0]; 
	 }	 
	 
	 
	 

 }]);

app.component('textMePrimoStudio', {
     bindings: {parentCtrl: '<'},
     controller: 'textMePrimoStudioController',
     template: `<span ng-if=$ctrl.callNumber != \'none\' > <custom-action name=\"text_me\"\n                            label=\"Text Me\"\n                            index=0\n                            icon=\"ic_smartphone_24px\"\n                            icon-set=\"hardware\"\n                            link=\"https://www.library.vanderbilt.edu/forms/textme.php?call={{$ctrl.callNumber}}&location={{$ctrl.localCode}}&title={pnx.display.title}\" /> </span>`
	 //`<span class="md-subhead"><a href="{{ $ctrl.linkBase }}{{ $ctrl.getRecordID() }}" target="_blank">{{ $ctrl.linkText }}</a></span>`

 });
  
 //end text me
// orbis cascade functions needed for text me  start




// end orbis cascase functions for text me



