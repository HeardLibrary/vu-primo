// Start Text me

app.controller('ActionListAfterController', [function () {
  var vm = this;
}]);


app.component('prmActionListAfter', {
  bindings: { parentCtrl: '<' },
  controller: 'ActionListAfterController',
  template: '\n    <text-me-primo-studio parent-ctrl="$ctrl.parentCtrl"></text-me-primo-studio>\n'

});


app.constant('textMePrimoStudioStudioConfig', [{ "text": "report a bug", "linkBase": "report a bug link" }]);

app.controller('textMePrimoStudioController', ['textMePrimoStudioStudioConfig', function (configParams) {
    
     //set the context
     var vm = this;
    
     //binds the function to the scope so it's requestable in the component.
     vm.getRecordID = getRecordID;
	 vm.getTitle = getTitle;
	 vm.getCall = getCall;
	 vm.getLibrary = getLibrary
     vm.linkText = getLinkText();
     vm.linkBase = getLinkBase();

    function getLinkText(){
       return configParams[0].text;
    }

    function getLinkBase(){
       return configParams[0].linkBase;
    }
     //define the function that retrieves the record ID
     function getRecordID() {
         return vm.parentCtrl.item.pnx.control.recordid[0];
     }
	 
	 function getLibrary() {
		 return vm.parentCtrl.item.delivery.bestlocation.mainLocation;
	 }
	 
	 function getTitle() {
		return vm.parentCtrl.item.pnx.display.title[0]; 
	 }
	 function getCall() {
		return vm.parentCtrl.item.delivery.bestlocation.callNumber;
	 }	 
	 
	 
	 

 }]);

app.component('textMePrimoStudio', {
     bindings: {parentCtrl: '<'},
     controller: 'textMePrimoStudioController',
     template: `<span> {{$ctrl.getRecordID()}} -- {{ $ctrl.getCall()  }} -- {{$ctrl.getLibrary() }}  </span>`


 });
  
 //end text me
